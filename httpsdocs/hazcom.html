<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="build-version" content="01.01w">
  <title>HAZCOM</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; overflow: hidden; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; background: #0a0a1a; color: #e8e8f0; }

    /* ── Splash screens (auto-update) ── */
    .splash {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      z-index: 10000; display: none; align-items: center; justify-content: center;
      flex-direction: column; transition: opacity 0.3s ease;
    }
    .splash .splash-title { color: #fff; font: bold 36px/1 sans-serif; margin-bottom: 20px; }
    .splash img { max-width: 500px; max-height: 500px; }
    #splash-green { background: #1b5e20; }
    #splash-blue  { background: #0d47a1; }

    /* ── Version indicator (auto-update) ── */
    #version-indicator {
      position: fixed; bottom: 8px; right: 8px; z-index: 9999;
      display: flex; align-items: center; gap: 6px;
      background: rgba(0,0,0,0.55); color: #ccc; padding: 4px 10px;
      border-radius: 12px; font: 11px/1 monospace; user-select: none;
      pointer-events: none; transition: all 0.3s ease;
    }
    #version-indicator .dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: #888; transition: background 0.3s ease;
    }
    #version-indicator .dot.checking { background: #ffa726; animation: pulse-dot 0.6s infinite alternate; }
    #version-indicator .dot.found    { background: #66bb6a; }
    #version-indicator .dot.error    { background: #ef5350; }
    @keyframes pulse-dot { from { opacity: 1; } to { opacity: 0.4; } }

    /* ── Progress bar ── */
    #progress-bar {
      position: fixed; top: 0; left: 0; height: 3px; z-index: 9000;
      background: linear-gradient(90deg, #f44336, #ff9800, #ffeb3b);
      transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 0 12px rgba(255, 152, 0, 0.5);
    }

    /* ── Slide counter ── */
    #slide-counter {
      position: fixed; bottom: 10px; left: 50%; transform: translateX(-50%);
      z-index: 9000; font: 600 13px/1 'Segoe UI', sans-serif;
      color: rgba(255,255,255,0.4); user-select: none; letter-spacing: 2px;
    }

    /* ── Navigation arrows ── */
    .nav-arrow {
      position: fixed; top: 50%; transform: translateY(-50%); z-index: 9000;
      width: 48px; height: 48px; border: none; border-radius: 50%;
      background: rgba(255,255,255,0.08); color: rgba(255,255,255,0.5);
      font-size: 22px; cursor: pointer; display: flex; align-items: center;
      justify-content: center; transition: all 0.2s ease; backdrop-filter: blur(4px);
    }
    .nav-arrow:hover { background: rgba(255,255,255,0.18); color: #fff; }
    .nav-arrow.hidden { opacity: 0; pointer-events: none; }
    #nav-prev { left: 16px; }
    #nav-next { right: 16px; }

    /* ── Slide deck ── */
    #deck {
      width: 100%; height: 100%; overflow: hidden; position: relative;
    }
    .slide {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      display: flex; align-items: center; justify-content: center;
      padding: 60px 80px; opacity: 0; transform: translateX(60px);
      transition: opacity 0.5s ease, transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
    }
    .slide.active {
      opacity: 1; transform: translateX(0); pointer-events: auto;
    }
    .slide.exit-left {
      opacity: 0; transform: translateX(-60px);
    }

    /* ── Slide content layouts ── */
    .slide-inner { max-width: 1100px; width: 100%; }

    /* Title slide */
    .title-slide { text-align: center; flex-direction: column; }
    .title-slide .eyebrow {
      font: 600 14px/1 sans-serif; letter-spacing: 6px; text-transform: uppercase;
      color: #f44336; margin-bottom: 24px; opacity: 0;
      animation: fadeUp 0.6s 0.2s ease forwards;
    }
    .title-slide h1 {
      font-size: clamp(48px, 8vw, 96px); font-weight: 800; letter-spacing: -2px;
      line-height: 1.05; margin-bottom: 20px; opacity: 0;
      animation: fadeUp 0.6s 0.4s ease forwards;
    }
    .title-slide h1 span { color: #f44336; }
    .title-slide .subtitle {
      font: 300 clamp(16px, 2.5vw, 24px)/1.5 sans-serif; color: rgba(255,255,255,0.55);
      max-width: 700px; margin: 0 auto 40px; opacity: 0;
      animation: fadeUp 0.6s 0.6s ease forwards;
    }
    .title-slide .tag {
      display: inline-block; padding: 8px 24px; border-radius: 24px;
      background: rgba(244, 67, 54, 0.12); border: 1px solid rgba(244, 67, 54, 0.3);
      color: #ef9a9a; font: 600 13px/1 sans-serif; letter-spacing: 2px;
      text-transform: uppercase; opacity: 0;
      animation: fadeUp 0.6s 0.8s ease forwards;
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* Section headers */
    .section-num {
      font: 800 clamp(60px, 10vw, 120px)/1 sans-serif;
      color: rgba(244, 67, 54, 0.08); position: absolute; top: 40px; left: 60px;
      user-select: none; pointer-events: none;
    }
    .slide h2 {
      font-size: clamp(28px, 4vw, 44px); font-weight: 700; line-height: 1.2;
      margin-bottom: 8px;
    }
    .slide h2 span { color: #f44336; }
    .accent-line {
      width: 60px; height: 3px; background: #f44336; border-radius: 2px;
      margin: 16px 0 28px;
    }
    .slide p, .slide li {
      font-size: clamp(15px, 1.8vw, 19px); line-height: 1.7;
      color: rgba(255,255,255,0.72);
    }
    .slide ul { list-style: none; padding: 0; }
    .slide ul li { padding: 8px 0 8px 28px; position: relative; }
    .slide ul li::before {
      content: ''; position: absolute; left: 0; top: 17px;
      width: 10px; height: 10px; border-radius: 50%;
      background: rgba(244, 67, 54, 0.5); border: 2px solid #f44336;
    }

    /* Two-column layout */
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: start; }
    .two-col-content h2 { margin-top: 0; }

    /* ── GHS Pictogram Grid ── */
    .picto-grid {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 20px;
    }
    .picto-card {
      background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px; padding: 20px 16px; text-align: center;
      transition: all 0.3s ease;
    }
    .picto-card:hover {
      background: rgba(244, 67, 54, 0.06); border-color: rgba(244, 67, 54, 0.25);
      transform: translateY(-2px);
    }
    .picto-diamond {
      width: 64px; height: 64px; margin: 0 auto 12px;
      transform: rotate(45deg); border: 3px solid #f44336;
      display: flex; align-items: center; justify-content: center;
      background: rgba(244, 67, 54, 0.06);
    }
    .picto-diamond .picto-icon {
      transform: rotate(-45deg); font-size: 28px; line-height: 1;
    }
    .picto-label { font: 600 13px/1.3 sans-serif; color: #e8e8f0; margin-bottom: 4px; }
    .picto-desc { font: 400 11px/1.4 sans-serif; color: rgba(255,255,255,0.45); }

    /* ── SDS 16-section list ── */
    .sds-grid {
      display: grid; grid-template-columns: 1fr 1fr; gap: 6px 40px; margin-top: 16px;
    }
    .sds-item {
      display: flex; align-items: baseline; gap: 10px; padding: 7px 0;
      border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    .sds-num {
      font: 700 13px/1 'Segoe UI', monospace; color: #f44336;
      min-width: 24px; text-align: right;
    }
    .sds-text { font: 400 14px/1.4 sans-serif; color: rgba(255,255,255,0.68); }

    /* ── Label diagram ── */
    .label-diagram {
      background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.1);
      border-radius: 16px; padding: 32px; position: relative;
    }
    .label-diagram h3 {
      font-size: 15px; font-weight: 700; text-transform: uppercase;
      letter-spacing: 3px; color: #f44336; margin-bottom: 24px; text-align: center;
    }
    .label-elements {
      display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px;
    }
    .label-el {
      background: rgba(255,255,255,0.03); border-radius: 10px; padding: 16px;
      border-left: 3px solid #f44336; transition: background 0.2s;
    }
    .label-el:hover { background: rgba(255,255,255,0.06); }
    .label-el-title { font: 700 14px/1 sans-serif; color: #fff; margin-bottom: 6px; }
    .label-el-desc { font: 400 12px/1.5 sans-serif; color: rgba(255,255,255,0.5); }

    /* ── Key takeaway cards ── */
    .takeaway-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; margin-top: 24px; }
    .takeaway-card {
      background: linear-gradient(135deg, rgba(244,67,54,0.08), rgba(255,152,0,0.04));
      border: 1px solid rgba(244,67,54,0.15); border-radius: 16px; padding: 28px 24px;
      text-align: center; transition: all 0.3s ease;
    }
    .takeaway-card:hover {
      transform: translateY(-4px); border-color: rgba(244,67,54,0.35);
      box-shadow: 0 12px 40px rgba(244,67,54,0.1);
    }
    .takeaway-icon { font-size: 36px; margin-bottom: 16px; }
    .takeaway-card h3 { font: 700 17px/1.3 sans-serif; color: #fff; margin-bottom: 8px; }
    .takeaway-card p { font: 400 13px/1.6 sans-serif; color: rgba(255,255,255,0.5); }

    /* ── Stat callout ── */
    .stat-row { display: flex; gap: 40px; margin: 28px 0 0; }
    .stat-box { text-align: center; }
    .stat-num { font: 800 clamp(32px, 5vw, 52px)/1 sans-serif; color: #f44336; }
    .stat-label { font: 400 13px/1.4 sans-serif; color: rgba(255,255,255,0.45); margin-top: 4px; }

    /* ── Responsive ── */
    @media (max-width: 900px) {
      .slide { padding: 40px 28px; }
      .two-col { grid-template-columns: 1fr; gap: 28px; }
      .picto-grid { grid-template-columns: repeat(3, 1fr); gap: 12px; }
      .sds-grid { grid-template-columns: 1fr; }
      .label-elements { grid-template-columns: 1fr; }
      .takeaway-grid { grid-template-columns: 1fr; }
      .stat-row { flex-direction: column; gap: 16px; }
      .section-num { display: none; }
      .nav-arrow { width: 36px; height: 36px; font-size: 16px; }
      #nav-prev { left: 6px; }
      #nav-next { right: 6px; }
    }
    @media (max-width: 600px) {
      .picto-grid { grid-template-columns: repeat(2, 1fr); }
    }
  </style>
</head>
<body>
  <!-- Auto-update splashes -->
  <div id="splash-green" class="splash"><div class="splash-title">Website Ready</div><img src="https://pfcassociates.github.io/PFC_Website/PFC_images/PFC_LOGO_4_Transparent.png" alt=""></div>
  <div id="splash-blue" class="splash"><div class="splash-title">Code Ready</div><img src="https://www.shadowaisolutions.com/SAIS%20Logo.png" alt=""></div>

  <!-- Progress bar -->
  <div id="progress-bar" style="width:0%"></div>

  <!-- Nav arrows -->
  <button class="nav-arrow hidden" id="nav-prev" aria-label="Previous slide">&#8592;</button>
  <button class="nav-arrow" id="nav-next" aria-label="Next slide">&#8594;</button>

  <!-- Slide counter -->
  <div id="slide-counter"></div>

  <!-- ════════════════ SLIDES ════════════════ -->
  <div id="deck">

    <!-- SLIDE 1 — Title -->
    <div class="slide title-slide active">
      <div class="slide-inner">
        <div class="eyebrow">OSHA 29 CFR 1910.1200</div>
        <h1>Hazard<br><span>Communication</span></h1>
        <div class="subtitle">Understanding chemical hazards in your workplace through the Globally Harmonized System of Classification and Labelling</div>
        <div class="tag">GHS-Aligned Training</div>
      </div>
    </div>

    <!-- SLIDE 2 — What is HAZCOM -->
    <div class="slide">
      <span class="section-num">01</span>
      <div class="slide-inner">
        <div class="two-col">
          <div class="two-col-content">
            <h2>What is <span>HAZCOM?</span></h2>
            <div class="accent-line"></div>
            <p>The Hazard Communication Standard (HCS) ensures that information about chemical hazards and protective measures is shared with workers exposed to hazardous chemicals.</p>
            <ul>
              <li>Also known as the "Right to Know" law</li>
              <li>Covers all employers with hazardous chemicals in the workplace</li>
              <li>Aligned with the Globally Harmonized System (GHS) since 2012</li>
              <li>Requires a written hazard communication program</li>
            </ul>
          </div>
          <div>
            <div class="stat-row" style="flex-direction:column;">
              <div class="stat-box"><div class="stat-num">50M+</div><div class="stat-label">Workers protected by HAZCOM</div></div>
              <div class="stat-box"><div class="stat-num">5M+</div><div class="stat-label">Workplaces covered nationwide</div></div>
              <div class="stat-box"><div class="stat-num">#1</div><div class="stat-label">Most cited OSHA standard year after year</div></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- SLIDE 3 — Three Pillars -->
    <div class="slide">
      <span class="section-num">02</span>
      <div class="slide-inner">
        <h2>The Three <span>Pillars</span> of HAZCOM</h2>
        <div class="accent-line"></div>
        <div class="takeaway-grid">
          <div class="takeaway-card">
            <div class="takeaway-icon">&#128278;</div>
            <h3>Labels</h3>
            <p>Every container of hazardous chemicals must have a GHS-compliant label with standardized pictograms, signal words, and hazard statements.</p>
          </div>
          <div class="takeaway-card">
            <div class="takeaway-icon">&#128196;</div>
            <h3>Safety Data Sheets</h3>
            <p>16-section documents providing detailed information about each chemical's properties, hazards, handling, storage, and emergency measures.</p>
          </div>
          <div class="takeaway-card">
            <div class="takeaway-icon">&#127891;</div>
            <h3>Training</h3>
            <p>Workers must receive effective training on chemical hazards, protective measures, and how to read labels and SDS before working with chemicals.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- SLIDE 4 — GHS Pictograms -->
    <div class="slide">
      <span class="section-num">03</span>
      <div class="slide-inner">
        <h2>GHS <span>Pictograms</span></h2>
        <div class="accent-line"></div>
        <div class="picto-grid">
          <div class="picto-card">
            <div class="picto-diamond"><span class="picto-icon">&#128293;</span></div>
            <div class="picto-label">Flame</div>
            <div class="picto-desc">Flammable, self-heating, pyrophoric</div>
          </div>
          <div class="picto-card">
            <div class="picto-diamond"><span class="picto-icon">&#9888;&#65039;</span></div>
            <div class="picto-label">Exclamation Mark</div>
            <div class="picto-desc">Irritant, skin sensitizer, narcotic</div>
          </div>
          <div class="picto-card">
            <div class="picto-diamond"><span class="picto-icon">&#9760;&#65039;</span></div>
            <div class="picto-label">Skull &amp; Crossbones</div>
            <div class="picto-desc">Acute toxicity (fatal or toxic)</div>
          </div>
          <div class="picto-card">
            <div class="picto-diamond"><span class="picto-icon">&#127981;</span></div>
            <div class="picto-label">Health Hazard</div>
            <div class="picto-desc">Carcinogen, mutagenicity, organ toxicity</div>
          </div>
          <div class="picto-card">
            <div class="picto-diamond"><span class="picto-icon">&#128167;</span></div>
            <div class="picto-label">Corrosion</div>
            <div class="picto-desc">Skin corrosion, eye damage, corrosive to metals</div>
          </div>
          <div class="picto-card">
            <div class="picto-diamond"><span class="picto-icon">&#128165;</span></div>
            <div class="picto-label">Exploding Bomb</div>
            <div class="picto-desc">Explosives, self-reactives, organic peroxides</div>
          </div>
          <div class="picto-card">
            <div class="picto-diamond"><span class="picto-icon">&#9901;</span></div>
            <div class="picto-label">Flame Over Circle</div>
            <div class="picto-desc">Oxidizers that intensify fire</div>
          </div>
          <div class="picto-card">
            <div class="picto-diamond"><span class="picto-icon">&#127754;</span></div>
            <div class="picto-label">Environment</div>
            <div class="picto-desc">Aquatic toxicity hazards</div>
          </div>
          <div class="picto-card">
            <div class="picto-diamond"><span class="picto-icon">&#129707;</span></div>
            <div class="picto-label">Gas Cylinder</div>
            <div class="picto-desc">Compressed, liquefied, or dissolved gases</div>
          </div>
        </div>
      </div>
    </div>

    <!-- SLIDE 5 — Safety Data Sheets -->
    <div class="slide">
      <span class="section-num">04</span>
      <div class="slide-inner">
        <h2>Safety Data Sheets &mdash; <span>16 Sections</span></h2>
        <div class="accent-line"></div>
        <p style="margin-bottom:16px;">Every SDS follows a standardized 16-section format. Sections 1&ndash;8 are the most critical for everyday use.</p>
        <div class="sds-grid">
          <div class="sds-item"><span class="sds-num">1</span><span class="sds-text">Identification</span></div>
          <div class="sds-item"><span class="sds-num">9</span><span class="sds-text">Physical &amp; Chemical Properties</span></div>
          <div class="sds-item"><span class="sds-num">2</span><span class="sds-text">Hazard(s) Identification</span></div>
          <div class="sds-item"><span class="sds-num">10</span><span class="sds-text">Stability &amp; Reactivity</span></div>
          <div class="sds-item"><span class="sds-num">3</span><span class="sds-text">Composition / Ingredients</span></div>
          <div class="sds-item"><span class="sds-num">11</span><span class="sds-text">Toxicological Information</span></div>
          <div class="sds-item"><span class="sds-num">4</span><span class="sds-text">First-Aid Measures</span></div>
          <div class="sds-item"><span class="sds-num">12</span><span class="sds-text">Ecological Information</span></div>
          <div class="sds-item"><span class="sds-num">5</span><span class="sds-text">Fire-Fighting Measures</span></div>
          <div class="sds-item"><span class="sds-num">13</span><span class="sds-text">Disposal Considerations</span></div>
          <div class="sds-item"><span class="sds-num">6</span><span class="sds-text">Accidental Release Measures</span></div>
          <div class="sds-item"><span class="sds-num">14</span><span class="sds-text">Transport Information</span></div>
          <div class="sds-item"><span class="sds-num">7</span><span class="sds-text">Handling &amp; Storage</span></div>
          <div class="sds-item"><span class="sds-num">15</span><span class="sds-text">Regulatory Information</span></div>
          <div class="sds-item"><span class="sds-num">8</span><span class="sds-text">Exposure Controls / PPE</span></div>
          <div class="sds-item"><span class="sds-num">16</span><span class="sds-text">Other Information</span></div>
        </div>
      </div>
    </div>

    <!-- SLIDE 6 — Container Labels -->
    <div class="slide">
      <span class="section-num">05</span>
      <div class="slide-inner">
        <h2>Reading a <span>GHS Label</span></h2>
        <div class="accent-line"></div>
        <div class="label-diagram">
          <h3>Required Label Elements</h3>
          <div class="label-elements">
            <div class="label-el">
              <div class="label-el-title">Product Identifier</div>
              <div class="label-el-desc">Chemical name or product name matching the SDS</div>
            </div>
            <div class="label-el">
              <div class="label-el-title">Signal Word</div>
              <div class="label-el-desc">"Danger" for severe hazards or "Warning" for less severe</div>
            </div>
            <div class="label-el">
              <div class="label-el-title">Pictogram(s)</div>
              <div class="label-el-desc">Red diamond-bordered symbols indicating hazard categories</div>
            </div>
            <div class="label-el">
              <div class="label-el-title">Hazard Statements</div>
              <div class="label-el-desc">Standardized phrases describing the nature of the hazard</div>
            </div>
            <div class="label-el">
              <div class="label-el-title">Precautionary Statements</div>
              <div class="label-el-desc">Prevention, response, storage, and disposal measures</div>
            </div>
            <div class="label-el">
              <div class="label-el-title">Supplier Info</div>
              <div class="label-el-desc">Name, address, and phone number of the manufacturer or distributor</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- SLIDE 7 — Training Requirements -->
    <div class="slide">
      <span class="section-num">06</span>
      <div class="slide-inner">
        <div class="two-col">
          <div class="two-col-content">
            <h2>Training <span>Requirements</span></h2>
            <div class="accent-line"></div>
            <p>Employers must provide effective training at the time of initial assignment and whenever a new chemical hazard is introduced.</p>
            <ul>
              <li>How to read and interpret GHS labels</li>
              <li>Where to find and how to use Safety Data Sheets</li>
              <li>Physical and health hazards of chemicals in the work area</li>
              <li>Protective measures &mdash; PPE, ventilation, safe work practices</li>
              <li>Emergency procedures for spills, leaks, and exposures</li>
              <li>Details of the employer's written HAZCOM program</li>
            </ul>
          </div>
          <div>
            <div class="takeaway-card" style="margin-bottom:20px;">
              <div class="takeaway-icon">&#9200;</div>
              <h3>When to Train</h3>
              <p>Initial assignment, new chemical introduction, and whenever hazards change. Annual refresher training is recommended best practice.</p>
            </div>
            <div class="takeaway-card">
              <div class="takeaway-icon">&#128221;</div>
              <h3>Documentation</h3>
              <p>Maintain records of training dates, topics, attendees, and trainer qualifications. Records must be accessible to employees.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- SLIDE 8 — Your Rights & Key Takeaways -->
    <div class="slide">
      <span class="section-num">07</span>
      <div class="slide-inner">
        <h2>Your <span>Rights</span> &amp; Key Takeaways</h2>
        <div class="accent-line"></div>
        <div class="takeaway-grid">
          <div class="takeaway-card">
            <div class="takeaway-icon">&#128270;</div>
            <h3>Right to Know</h3>
            <p>You have the right to know about every hazardous chemical in your workplace and how to protect yourself from exposure.</p>
          </div>
          <div class="takeaway-card">
            <div class="takeaway-icon">&#128214;</div>
            <h3>Right to Access SDS</h3>
            <p>Safety Data Sheets must be readily available during your work shift. You can request an SDS for any chemical at any time.</p>
          </div>
          <div class="takeaway-card">
            <div class="takeaway-icon">&#128170;</div>
            <h3>Right to Training</h3>
            <p>Your employer must train you before you work with or near hazardous chemicals. You can request retraining at any time.</p>
          </div>
        </div>
        <div style="text-align:center; margin-top:48px;">
          <div class="tag" style="display:inline-block;">Stay Safe &mdash; Know Your Chemicals &mdash; Ask Questions</div>
        </div>
      </div>
    </div>

  </div><!-- /deck -->

  <script>
    /* ══════════════ SLIDE NAVIGATION ══════════════ */
    var slides = document.querySelectorAll('.slide');
    var current = 0;
    var total = slides.length;
    var progressBar = document.getElementById('progress-bar');
    var counter = document.getElementById('slide-counter');
    var prevBtn = document.getElementById('nav-prev');
    var nextBtn = document.getElementById('nav-next');

    function updateUI() {
      progressBar.style.width = ((current + 1) / total * 100) + '%';
      counter.textContent = (current + 1) + ' / ' + total;
      prevBtn.classList.toggle('hidden', current === 0);
      nextBtn.classList.toggle('hidden', current === total - 1);
    }

    function goTo(index) {
      if (index < 0 || index >= total || index === current) return;
      var dir = index > current ? 1 : -1;
      slides[current].classList.remove('active');
      slides[current].classList.add(dir > 0 ? 'exit-left' : '');
      slides[current].style.transform = dir > 0 ? 'translateX(-60px)' : 'translateX(60px)';
      current = index;
      slides[current].classList.remove('exit-left');
      slides[current].style.transform = dir > 0 ? 'translateX(60px)' : 'translateX(-60px)';
      // Force reflow then animate in
      void slides[current].offsetWidth;
      slides[current].classList.add('active');
      slides[current].style.transform = '';
      updateUI();
    }

    prevBtn.addEventListener('click', function() { goTo(current - 1); });
    nextBtn.addEventListener('click', function() { goTo(current + 1); });

    document.addEventListener('keydown', function(e) {
      if (e.key === 'ArrowRight' || e.key === 'ArrowDown' || e.key === ' ') { e.preventDefault(); goTo(current + 1); }
      if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') { e.preventDefault(); goTo(current - 1); }
      if (e.key === 'Home') { e.preventDefault(); goTo(0); }
      if (e.key === 'End') { e.preventDefault(); goTo(total - 1); }
    });

    // Touch/swipe support
    var _touchStartX = 0;
    document.addEventListener('touchstart', function(e) { _touchStartX = e.changedTouches[0].clientX; }, { passive: true });
    document.addEventListener('touchend', function(e) {
      var dx = e.changedTouches[0].clientX - _touchStartX;
      if (Math.abs(dx) > 50) goTo(current + (dx < 0 ? 1 : -1));
    }, { passive: true });

    updateUI();

    /* ══════════════ AUTO-UPDATE (from template) ══════════════ */
    var AUTO_REFRESH = true;
    var SHOW_WEB_VERSION = true;

    var _audioCtx = null;
    function unlockAudio() {
      if (!_audioCtx) {
        _audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        var buf = _audioCtx.createBuffer(1, 1, 22050);
        var src = _audioCtx.createBufferSource();
        src.buffer = buf;
        src.connect(_audioCtx.destination);
        src.start(0);
      }
      if (_audioCtx.state === 'suspended') _audioCtx.resume();
    }
    document.addEventListener('click', unlockAudio, { once: false });
    document.addEventListener('touchstart', unlockAudio, { once: false });

    function playSoundFromDataUrl(dataUrl) {
      try {
        var ctx = _audioCtx || new (window.AudioContext || window.webkitAudioContext)();
        if (ctx.state === 'suspended') ctx.resume();
        var base64 = dataUrl.split(',')[1];
        var binary = atob(base64);
        var bytes = new Uint8Array(binary.length);
        for (var i = 0; i < binary.length; i++) bytes[i] = binary.charCodeAt(i);
        ctx.decodeAudioData(bytes.buffer, function(audioBuffer) {
          var source = ctx.createBufferSource();
          source.buffer = audioBuffer;
          source.connect(ctx.destination);
          source.start(0);
        });
      } catch(e) {}
    }

    function cacheSound(url, key) {
      if (localStorage.getItem(key)) return;
      fetch(url).then(function(res) { return res.blob(); }).then(function(blob) {
        var reader = new FileReader();
        reader.onloadend = function() { localStorage.setItem(key, reader.result); };
        reader.readAsDataURL(blob);
      }).catch(function() {});
    }
    cacheSound('sounds/Website_Ready_Voice_1.mp3', 'web-sound-data');
    cacheSound('sounds/Code_Ready_Voice_1.mp3', 'gas-sound-data');

    if (sessionStorage.getItem('gas-pending-sound')) {
      sessionStorage.removeItem('gas-pending-sound');
      if (navigator.vibrate) navigator.vibrate(200);
      var reloadSource = sessionStorage.getItem('reload-source') || '';
      sessionStorage.removeItem('reload-source');
      var splash = null;
      var soundData = null;
      if (reloadSource === 'build-version') {
        splash = document.getElementById('splash-green');
        soundData = localStorage.getItem('web-sound-data');
      } else if (reloadSource === 'gas') {
        splash = document.getElementById('splash-blue');
        soundData = localStorage.getItem('gas-sound-data');
      }
      if (soundData) playSoundFromDataUrl(soundData);
      if (splash) {
        splash.style.display = 'flex';
        setTimeout(function() {
          splash.style.opacity = '0';
          setTimeout(function() { splash.style.display = 'none'; }, 300);
        }, 1000);
      }
    }

    window.addEventListener('message', function(e) {
      if (!e.data) return;
      if (e.data.type === 'manual-reload') window.location.reload();
      if (e.data.type === 'gas-reload') {
        var lastGasReload = parseInt(sessionStorage.getItem('gas-reload-time') || '0', 10);
        if (Date.now() - lastGasReload < 30000) return;
        sessionStorage.setItem('gas-reload-time', String(Date.now()));
        sessionStorage.setItem('gas-pending-sound', '1');
        sessionStorage.setItem('reload-source', 'gas');
        window.location.reload();
      }
    });

    (function() {
      var POLL_INTERVAL = 10000;
      var currentVersion = (document.querySelector('meta[name="build-version"]') || {}).content;
      if (!currentVersion) return;
      if (!AUTO_REFRESH) return;

      var indicator = document.createElement('div');
      indicator.id = 'version-indicator';
      indicator.innerHTML = '<span class="dot"></span><span class="label">v' + currentVersion + '</span>';
      if (SHOW_WEB_VERSION) document.body.appendChild(indicator);
      var dot = indicator.querySelector('.dot');

      function checkForUpdate() {
        dot.className = 'dot checking';
        fetch(window.location.href.split('?')[0] + '?_cb=' + Date.now(), { cache: 'no-store' })
          .then(function(res) { return res.text(); })
          .then(function(html) {
            var match = html.match(/<meta\s+name="build-version"\s+content="([^"]+)"/);
            if (match && match[1] !== currentVersion) {
              dot.className = 'dot found';
              indicator.querySelector('.label').textContent = 'Updating...';
              sessionStorage.setItem('gas-pending-sound', '1');
              sessionStorage.setItem('reload-source', 'build-version');
              setTimeout(function() { window.location.reload(); }, 2000);
            } else {
              setTimeout(function() { dot.className = 'dot'; }, 800);
              setTimeout(checkForUpdate, POLL_INTERVAL);
            }
          })
          .catch(function() {
            dot.className = 'dot error';
            setTimeout(function() { dot.className = 'dot'; }, 2000);
            setTimeout(checkForUpdate, POLL_INTERVAL);
          });
      }
      setTimeout(checkForUpdate, POLL_INTERVAL);
    })();

    var _wakeLock = null;
    async function requestWakeLock() {
      try {
        if (navigator.wakeLock) {
          _wakeLock = await navigator.wakeLock.request('screen');
          _wakeLock.addEventListener('release', function() { _wakeLock = null; });
        }
      } catch(e) {}
    }
    requestWakeLock();
    document.addEventListener('visibilitychange', function() {
      if (document.visibilityState === 'visible') requestWakeLock();
    });
  </script>
</body>
</html>
